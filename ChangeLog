2010-02-06  François Laupretre  <flp@users.sourceforge.net>

	* TODO:
	Suppress todo element
	[3767a185afaf] [tip]

	* lib/logmanager.c:
	Change in the way active file name is built Fix bug in path
	allocation If file already exists, add numbered suffix instead of
	incrementing time
	[074b1a42c468]

2010-02-05  François Laupretre  <flp@users.sourceforge.net>

	* lib/backup.c, lib/cmd.c, lib/include/backup.h, lib/include/cmd.h,
	lib/include/link.h, lib/include/pid.h, lib/include/stats.h,
	lib/include/status.h, lib/include/write.h, lib/link.c,
	lib/logmanager.c, lib/pid.c, lib/stats.c, lib/status.c, lib/write.c:
	Explode logmanager.c (too big) in backup, cmd, link, pid, stats,
	status, write.
	[a333889daac3]

	* lib/Makefile.am:
	Fix splint make rule
	[7c8008033526]

	* lib/include/array.h, lib/inst_include/logmanager.h:
	Add ARRAY macros for backup files (to be reused for other structures
	later)
	[a4a56ae54f91]

	* lib/include/time.h:
	Move time-related macros to time.h
	[26307cb7baf1]

	* lib/compress.c, lib/include/compress.h:
	Replace static function compress_handler_list() with direct call to
	logmanager_compression_list() Move C_HANDLER macros to compress.h
	[22369564ea07]

2010-02-04  François Laupretre  <flp@users.sourceforge.net>

	* Makefile.orig, doc/Makefile.orig, lib/Makefile.orig, make.vars.orig,
	src/Makefile.orig:
	Remove original build system (files with '.orig' suffix)
	[fcb8816f6770]

	* NEWS:
	Add dummy message in NEWS file
	[15624f20d2d4]

	* lib/Makefile.am:
	Add splint make target in lib
	[d7ff89298cd6]

	* src/id.c, util/util.c, util/util.h:
	Use pure macro expansion for FATAL_ERROR because of cast problems on
	64-bit Add ';' to DECLARE_POOL() macro Remove fatal_error_2()
	function
	[0cb96a402ebb]

	* Makefile.am:
	Add ACKNOWLEDGEMENTS, NOTICE, build/cleanup, and build/reconfigure
	to distrib
	[31139523f283]

	* managelogs.spec.src.in:
	fix: managelogs.spec.src.in : Use RELEASE_NUMBER
	[804d7d89e366]

	* Makefile.am, configure.in, doc/Makefile.am, lib/Makefile.am,
	src/Makefile.am:
	Modify autoconf configuration Add APR_LDFLAGS to AM_LDFLAGS in lib
	and src Set libtool version information in configure.in and use it
	in lib build and specfile Modify src/Makefile.am to allow separate
	build Remove html-man target in doc and add comment for manual
	generation of html file(s) Add managelogs.spec build logic in
	Makefile.am (cannot be generated by autoconf because xxxdir
	variables are not expanded) Add rpm target in Makefile.am Switch to
	version 2.0.0 Switch (libtool) version-info to 2:0:0 Add sys/stat.h
	check in autoconf Remove check of headers already checked by APR Add
	RPM_OS in autoconf for specfile Add '--ldflags' option to apr-config
	to generate APR_LIBS Add malloc & realloc check in AC_CHECK_FUNCS
	[a2de1fcb9162]

	* build/cleanup:
	cleanup : also remove .deps directories
	[dfef67f33ed3]

	* .hgignore:
	Update ignore patterns
	[da39a275db63]

	* .hgignore, managelogs.spec, managelogs.spec.src.in:
	Rename managelogs.spec to be processed by autoconf + make
	[393787321bd5]

	* lib/file.c, lib/logmanager.c:
	Add sys/stat.h test in autoconf as it is not reliably provided by
	apr
	[0f361fd45f09]

	* build/find_bz2.m4, build/find_zlib.m4:
	Modify find macro login : Error if lib not found and not explicitely
	disabled Also add RPM_DEPS setting, to make dependencies in spec
	file dynamic
	[9d25187df03b]

	* .hgignore:
	Add .hgignore file
	[29b194cd5025]

2010-02-03  François Laupretre  <flp@users.sourceforge.net>

	* Makefile.am, build/find_apr.m4, build/find_bz2.m4,
	build/find_zlib.m4, configure.in, doc/Makefile.am, lib/Makefile.am,
	lib/bzip2_handler.c, lib/compress.c, lib/gzip_handler.c,
	lib/include/bzip2_handler.h, lib/include/gzip_handler.h,
	lib/logmanager.c, src/Makefile.am, src/id.h, src/intr.h,
	src/managelogs.h, src/options.c, src/options.h:
	Automake/autoconf stuff find_apr.m4 derived from Apache apr_util
	find_zlib.m4 and find_bz2 derived from libxml2 Modified compression
	enabling macros to match find_xxx detections configure.in based on
	autoscan result Add 'include config.h' in C sources Remove
	MANAGELOGS_VERSION and LOGMANAGER_VERSIONS macros. Replace with
	autoconf-generated PACKAGE_VERSION Add bug report address to
	MANAGELOGS_BANNER Use PACKAGE_STRING in banner If no compression is
	available, don't display the compress option in help message
	[2abdc566e181]

	* lib/ext_include/logmanager.h, lib/inst_include/logmanager.h:
	Rename lib/ext_include to lib/inst_include
	[09478d9b72f0]

	* build/cleanup, build/reconfigure:
	Add scripts to make full cleanup and total reconfiguration
	[96ea310afda4]

	* build/config.guess, build/config.sub, build/depcomp, build/install-
	sh, build/ltmain.sh, build/missing, build/mkinstalldirs:
	Add build utilities (taken from automake distribution) These scripts
	need to be present in the distribution
	[c85eb906072d]

	* Makefile, Makefile.orig, doc/Makefile, doc/Makefile.orig,
	lib/Makefile, lib/Makefile.orig, make.vars, make.vars.orig,
	src/Makefile, src/Makefile.orig:
	Reanme old build system with '.orig' suffix (to be removed later)
	[830bef06433e]

	* CHANGES, COPYING, ChangeLog, LICENSE, NEWS:
	Change some filenames to comply with automake standards (mandatory)
	[62d01e630102]

	* Makefile, lib/Makefile, lib/bzip2_handler.c, lib/compress.c,
	lib/ext_include/logmanager.h, lib/file.c, lib/gzip_handler.c,
	lib/include/bzip2_handler.h, lib/include/compress.h,
	lib/include/config.h, lib/include/file.h,
	lib/include/gzip_handler.h, lib/include/time.h, lib/logmanager.c,
	lib/time.c, make.vars, src/Makefile, src/id.c, src/intr.c,
	src/lib/Makefile, src/lib/bzip2_handler.c, src/lib/compress.c,
	src/lib/ext_include/logmanager.h, src/lib/file.c,
	src/lib/gzip_handler.c, src/lib/include/bzip2_handler.h,
	src/lib/include/compress.h, src/lib/include/config.h,
	src/lib/include/file.h, src/lib/include/gzip_handler.h,
	src/lib/include/time.h, src/lib/logmanager.c, src/lib/time.c,
	src/managelogs.c, src/options.c, src/util/util.c, src/util/util.h,
	util/util.c, util/util.h:
	Move sr/lib to lib and src/util to util. First step toward a future
	split between logmanager and managelogs Suppress 'lib' and 'prog'
	targets in Makefiles
	[9018fa87b15e]

	* util/mk_release:
	Move mk_release to private utilities as it is supposed to be
	replaced with automake distrib feature
	[3c7cffd097b4]

	* src/lib/bzip2_handler.c, src/lib/compress.c,
	src/lib/ext_include/logmanager.h, src/lib/gzip_handler.c,
	src/lib/logmanager.c, src/managelogs.c, src/managelogs.h,
	src/options.c, src/options.h:
	Make API upward compatible Suppress Vxx in types and func name
	(new_logmanager instead of new_logmanager_v{1|2}) Add 'api_version'
	field in options struct (first) new_logmanager() handles options
	depending on the api_version field it gets New fields to be added at
	the end of the options struct
	[fcf09dc6ddf0]

2010-02-02  François Laupretre  <flp@users.sourceforge.net>

	* src/util/util.c, src/util/util.h:
	Set type of size arg in allocate() from size_t to apr_size_t
	[41f27cf41a23]

	* make.vars:
	Set version to 1.2.0
	[d69086eabb01]

2010-02-01  François Laupretre  <flp@users.sourceforge.net>

	* TODO:
	Remove purge-delay TODO entry
	[aec02a66539d]

	* src/id.c:
	Replace isdigit() calls with calls to apr_isdigit()
	[2eef57070cc2]

	* src/util/util.c:
	Remove unneeded system include
	[05285914148d]

	* src/util/util.c:
	Fix typo
	[289c5c59e474]

	* src/options.c:
	Suppress warning : tdelay could be used uninitialized. Reason :
	string 'j' for instance would have given undetermined result. Now,
	such string returns 0.
	[c8efdd00b3ea]

	* src/lib/file.c, src/lib/logmanager.c, src/lib/time.c,
	src/managelogs.c, src/util/util.c:
	Insert system includes in APR_HAVE_xxx_H blocks. Note: Cannot use
	this for sys/stat.h as some versions of APR don't define it.
	[f00739dc1ea2]

	* src/id.h:
	Add copyright banner to source file
	[ccb1c6dc57e0]

	* src/id.c:
	Replace getpwnam/getgrnam calls with APR functions Note :
	setuid/setgid is not available from APR
	[3233fc74f83c]

2010-01-29  François Laupretre  <flp@users.sourceforge.net>

	* src/options.c:
	Add --rotate-delay and --purge-delay in help message Cosmetic
	changes in help message Print banner on '-V' option instead of
	version string only
	[ba12b4bcb7d3]

	* src/lib/gzip_handler.c:
	Change default gzip compression level to 'best'
	[7f18f0ba5fd0]

	* src/managelogs.h:
	Change help banner
	[835aa0de0510]

2010-01-29  flp  <flp@users.sourceforge.net>

	* Merge
	[363dad90d6cc]

	* doc/managelogs.8:
	*
	[dd5504b9ca56]

	* src/lib/ext_include/logmanager.h, src/lib/logmanager.c,
	src/managelogs.c, src/options.c, src/options.h:
	Add 'rotate-delay' and 'purge-delay' options Change logmanager API
	from V 1 to V 2
	[e43327da125b]

	* TODO:
	Add todo element
	[c5872dee6afb]

2010-01-28  flp  <flp@users.sourceforge.net>

	* src/lib/logmanager.c:
	backup links : Add '.b' before numeric suffix so that name spaces
	are really distinct. ('ls <base-path>.b.*' instead of 'ls <base-
	path>.[0-9]*')
	[d2f801aa0e93]

2010-01-27  François Laupretre  <flp1@sourceforge.net>

	* src/lib/logmanager.c:
	Backup link suffix now printed in %03d format (keeps alpha order
	right if more than 9 backups)
	[1238dca89c81]

2010-01-25  François Laupretre  <flp1@sourceforge.net>

	* CHANGES, INSTALL, Makefile, NOTICE, TODO, doc/managelogs.8,
	doc/managelogs.8.htm, make.vars, src/lib/logmanager.c,
	src/managelogs.h, src/options.c, util/mk_release:
	Small changes preparing release 1.1.1
	[847b42480320]

2010-01-24  François Laupretre  <flp@users.sourceforge.net>

	* .hgtags:
	Added tag Release V 1.1.0 for changeset 27aa818bddd9
	[de113502eab4]

	* src/util/util.c, src/util/util.h:
	*
	[27aa818bddd9] [Release V 1.1.0]

	* CHANGES, INSTALL, Makefile, TODO, doc/Makefile, doc/managelogs.8,
	doc/managelogs.8.htm, lib/Makefile, lib/bzip2_handler.c,
	lib/compress.c, lib/ext_include/logmanager.h, lib/file.c,
	lib/gzip_handler.c, lib/include/bzip2_handler.h,
	lib/include/compress.h, lib/include/config.h, lib/include/file.h,
	lib/include/gzip_handler.h, lib/include/logmanager.h,
	lib/include/time.h, lib/include/util.h, lib/logmanager.c,
	lib/time.c, lib/util.c, make.vars, managelogs.spec, src/Makefile,
	src/id.c, src/intr.c, src/lib/Makefile, src/lib/bzip2_handler.c,
	src/lib/compress.c, src/lib/ext_include/logmanager.h,
	src/lib/file.c, src/lib/gzip_handler.c,
	src/lib/include/bzip2_handler.h, src/lib/include/compress.h,
	src/lib/include/config.h, src/lib/include/file.h,
	src/lib/include/gzip_handler.h, src/lib/include/time.h,
	src/lib/logmanager.c, src/lib/time.c, src/managelogs.c,
	src/managelogs.h, src/options.c, src/util.h, src/util/util.c,
	src/util/util.h:
	*
	[f5252bd9adf6]

	* .hgtags:
	Added tag Release V 1.0.1 for changeset 8160d062a5ea
	[85d98883cefb]

	* CHANGES, INSTALL, TODO, doc/managelogs.8, doc/managelogs.8.htm,
	include/logmanager.h, lib/Makefile, lib/ext_include/logmanager.h,
	managelogs.spec, src/Makefile:
	*
	[8160d062a5ea] [Release V 1.0.1]

	* CHANGES, Makefile, doc/managelogs.8, doc/managelogs.8.htm,
	lib/Makefile, lib/file.c, lib/include/util.h, lib/logmanager.c,
	make.vars, managelogs.spec, src/Makefile, src/options.c, src/util.h:
	*
	[92f962454e0b]

	* CHANGES, INSTALL, NOTICE, lib/file.c, lib/include/logmanager.h,
	lib/logmanager.c, make.vars:
	*
	[1e9fb35f8d16]

2010-01-23  François Laupretre  <flp@users.sourceforge.net>

	* lib/logmanager.c:
	*
	[1c3bc4d547ac]

	* .hgtags:
	Added tag Release V 1.0rc1 for changeset d96a4a377609
	[626feab5699f]

	* lib/file.c, src/intr.c:
	*
	[d96a4a377609] [Release V 1.0rc1]

	* TODO, make.vars:
	*
	[c5173a0c759f]

	* lib/file.c, lib/logmanager.c, make.vars, src/intr.c, src/intr.h,
	src/managelogs.c, src/options.c:
	*
	[9325ccfaa54e]

	* include/logmanager.h, lib/file.c, lib/include/logmanager.h,
	lib/logmanager.c, make.vars, src/intr.c, src/intr.h,
	src/managelogs.c, src/managelogs.h, src/options.c, src/options.h:
	*
	[c9e5f73919bc]

	* lib/include/logmanager.h, lib/logmanager.c, src/options.c:
	*
	[e7794b9b962e]

	* lib/include/logmanager.h, lib/logmanager.c:
	*
	[b4a875f40169]

	* INSTALL, Makefile, doc/managelogs.htm, id.c, id.h,
	include/logmanager.h, intr.c, intr.h, lib/Makefile,
	lib/bzip2_handler.c, lib/gzip_handler.c, lib/include/config.h,
	lib/include/logmanager.h, lib/include/util.h, lib/logmanager.c,
	lib/util.c, make.vars, managelogs.c, managelogs.h, options.c,
	options.h, src/Makefile, src/id.c, src/id.h, src/intr.c, src/intr.h,
	src/managelogs.c, src/managelogs.h, src/options.c, src/options.h,
	src/util.h:
	*
	[33560bba4c87]

	* ACKNOWLEDGEMENTS, AUTHORS, CHANGES, INSTALL, Makefile, NOTICE,
	README, TODO, doc/TODO, doc/managelogs.htm, doc/src/managelogs.htm,
	doc/src/ppc/TODO, doc/src/ppc/src/managelo.htm, id.c,
	include/logmanager.h, intr.c, intr.h, lib/Makefile,
	lib/bzip2_handler.c, lib/compress.c, lib/file.c, lib/gzip_handler.c,
	lib/include/bzip2_handler.h, lib/include/compress.h,
	lib/include/config.h, lib/include/file.h,
	lib/include/gzip_handler.h, lib/include/logmanager.h,
	lib/include/time.h, lib/include/util.h, lib/logmanager.c,
	lib/time.c, lib/util.c, managelogs.c, options.c:
	*
	[de964260c093]

	* lib/bzip2_handler.c, lib/gzip_handler.c, lib/logmanager.c,
	options.c:
	*
	[d99a5f4ae0a6]

	* Makefile, include/logmanager.h, intr.c, lib/include/config.h,
	lib/include/logmanager.h, lib/include/util.h, lib/logmanager.c,
	lib/time.c, lib/util.c, managelogs.c, options.c, options.h:
	*
	[ea55e8017026]

	* Makefile, include/logmanager.h, lib/Makefile, lib/compress.c,
	lib/file.c, lib/include/compress.h, lib/include/config.h,
	lib/include/logmanager.h, lib/logmanager.c, managelogs.c, options.c:
	*
	[887c953b6930]

	* doc/TODO, doc/src/managelogs.htm, doc/src/ppc/TODO,
	doc/src/ppc/src/managelo.htm, id.c, id.h, include/logmanager.h,
	lib/Makefile, lib/bzip2_handler.c, lib/compress.c, lib/file.c,
	lib/gzip_handler.c, lib/include/bzip2_handler.h,
	lib/include/compress.h, lib/include/config.h, lib/include/file.h,
	lib/include/gzip_handler.h, lib/include/logmanager.h,
	lib/include/time.h, lib/include/util.h, lib/logmanager.c,
	lib/time.c, lib/util.c, managelogs.h:
	*
	[e7412b80c07a]

	* Makefile, bzip2_handler.c, bzip2_handler.h, compress.c, compress.h,
	config.h, file.c, file.h, gzip_handler.c, gzip_handler.h, intr.c,
	intr.h, logmanager.c, logmanager.h, managelogs.c, options.c,
	options.h, time.c, time.h, util.c, util.h:
	*
	[38d7f2745882]

	* bzip2_handler.c, config.h, file.c, file.h, gzip_handler.c, intr.c,
	intr.h, logmanager.c, logmanager.h, managelogs.c, time.c, time.h,
	util.c, util.h:
	*
	[741c4fc6672a]

	* intr.c, intr.h, logmanager.c, logmanager.h, options.c, options.h,
	time.c, time.h:
	*
	[7a8e33b90bb1]

	* Makefile, compress.h, config.h, file.c, file.h, logfile.c,
	logfile.h, managelogs.c, util.h:
	*
	[a8db5a3744a3]

	* ACKNOWLEDGEMENTS, Makefile, README, TODO, config.h, file.c,
	logfile.c, managelogs.c:
	*
	[91b7f0f91a8c]

	* Makefile, TODO, bzip2_handler.c, compress.c, compress.h, config.h,
	file.c, file.h, gzip_handler.c, logfile.c, logfile.h, managelogs.c,
	util.c, util.h:
	*
	[3d6772da8b56]

	* Makefile, TODO, bzip2_handler.c, compress.c, compress.h, config.h,
	file.c, file.h, gzip_handler.c, logfile.c, logfile.h, managelogs.c,
	util.c, util.h:
	*
	[02df6f619663]

	* .hgtags, Makefile, TODO, bzip2_handler.c, bzip2_handler.h,
	compress.c, compress.h, config.h, error.c, error.h, gz.c, gz.h,
	gzip_handler.c, gzip_handler.h, logfile.c, logfile.h, managelogs.c,
	plain.c, plain.h, util.c, util.h:
	*
	[580a781822b2]

	* LICENSE, Makefile, compress.h, error.c, error.h, global.h, gz.c,
	gz.h, logfile.c, logfile.h, managelogs.c, managelogs.h, plain.c,
	plain.h:
	*
	[7c9213fd292e]

	* .hgtags:
	Added tag Release V 1.0.0 for changeset fac3e993a7e7
	[9c510bf447d9]

	* Makefile, global.h, logfile.c, logfile.h, managelogs.c,
	managelogs.h:
	Initial code
	[fac3e993a7e7]

